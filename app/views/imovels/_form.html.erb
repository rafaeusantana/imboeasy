<%= form_for(@imovel, :url => { :controller => "imovels"}) do |f| %>
  <% if @imovel.errors.any? %>
    <div id="error_explanation">
      <h2><%= pluralize(@imovel.errors.count, "error") %> prohibited this imovel from being saved:</h2>

      <ul>
      <% @imovel.errors.full_messages.each do |message| %>
        <li><%= message %></li>
      <% end %>
      </ul>
    </div>
  <% end %>

  <input type="hidden" id="id" name="id" value="<%= @imovel.try(:id) %>" />

<div class="panel panel-info">
  <div class="panel-heading">
    <h3 class="panel-title">Endereço</h3>
  </div>
  <div class="panel-body">
	  <div class="form-group">
	    <%= f.label :endereco %>
	    <%= f.text_field :endereco, :class=>"form-control input-sm" %>
	  </div>
	  <div class="form-group">
	    <%= f.label :cidade %>
	    <%= f.text_field :cidade, :class=>"form-control input-sm" %>
	  </div>
	  <div class="form-group">
	    <%= f.label :estado %>
	    <%= f.select :estado_id, Estado.all.map{|c| [c.nome+' - '+c.sigla, c.id]}, {:include_blank => 'Selecione'}, {:class=>"form-control"} %>
	  </div>
  </div>
</div>

<div class="panel panel-info">
  <div class="panel-heading">
    <h3 class="panel-title">Características</h3>
  </div>
  <div class="panel-body">
	  <div class="form-group">
	    <%= f.label :tipo_de_imóvel %>
	    <%= f.select :tipo_imovel_id, TipoImovel.all.map{|c| [c.nome, c.id]}, {:include_blank => 'Selecione'}, {:class=>"form-control"} %>
	  </div>
	  <div class="form-group">
	    <%= f.label :quantidade_quartos %>
	    <%= f.text_field :qtd_quartos, :class=>"form-control input-sm" %>
	  </div>
	  <div class="form-group">
	    <%= f.label :quantidade_suítes %>
	    <%= f.text_field :qtd_suites, :class=>"form-control input-sm" %>
	  </div>
	  <div class="form-group">
	    <%= f.label :metragem %>
	    <%= f.text_field :metragem, :class=>"form-control input-sm" %>
	  </div>
	  <div class="form-group">
	    <%= f.label :vagas_de_automóvel %>
	    <%= f.text_field :vagas_auto, :class=>"form-control input-sm" %>
	  </div>
	  <div class="form-group">
	    <%= f.label :ano_de_construção %>
	    <%= f.text_field :ano_construcao, :class=>"form-control input-sm" %>
	  </div>
	  <div class="form-group">
	    <%= f.label :Áreas_comuns %>
	    <%= f.select :area_comum_ids, AreaComum.all.collect {|x| [x.nome, x.id]}, {}, :multiple => true, :class=>"form-control input-sm" %>
	  </div>
  </div>
</div>

<div class="panel panel-info">
  <div class="panel-heading">
    <h3 class="panel-title">Valores</h3>
  </div>
  <div class="panel-body">
	  <div class="form-group">
	    <%= f.label :valor_de_aluguel %>
	    <%= f.text_field :valor_aluguel, :class=>"form-control input-sm" %>
	  </div>
	  <div class="form-group">
	    <%= f.label :valor_de_venda %>
	    <%= f.text_field :valor_venda, :class=>"form-control input-sm" %>
	  </div>
	  <div class="form-group">
	    <%= f.label :valor_de_condomínio %>
	    <%= f.text_field :valor_condominio, :class=>"form-control input-sm" %>
	  </div>
  </div>
</div>

<div class="panel panel-info">
  <div class="panel-heading">
    <h3 class="panel-title">Descrição</h3>
  </div>
  <div class="panel-body">
	  <div class="form-group">
	    <%= f.text_area :descricao, :class=>"form-control input-sm", :rows => "5" %>
	  </div>
  </div>
</div>

<div class="panel panel-info">
  <div class="panel-heading">
    <h3 class="panel-title">Fotos</h3>
  </div>
  <div class="panel-body">
     <div class="form-group">
       <%= f.label :fotos %><br>
       <%= f.file_field :fotos, :multiple => true %>
     </div>
  </div>
</div>

  <div class="actions">
    <%= f.submit :class=>"btn btn-primary", :value=>(@imovel.id.nil?) ? "Adicionar" : "Atualizar" %>
  </div>
<% end %>
